<html>
<head>
  <title>Calculadora de CORE</title>
  <meta charset="utf-8">
  <link href="Style_calculadora.css" rel="stylesheet" type="text/css">

</head>

<body>

    
    <div class = "box">
        <h1>Calculadora de CORE</h1>
        <form>
            Número: <input type = "text" name "" placeholder="Type..." id = "number">
        </form>
    </div>

    <div class = "box">
        <h2> Info sobre el número</h2>
        <p id = "answer"></p>
    </div>

    <div class = "box">
        <h3>Operaciones Unitarias</h3>
        <button onclick="square()" id="square"><p>X<sup>2</sup></p></button>
        <button onclick="mod()" id="modulo">Mod</button>
        <button onclick="factorial()" id="factorial">n!</button>
    </div>

    <div class = "box">
        <h3>Operaciones Binarias</h3>
        <button onclick="add()" id="suma">+</button>
        <button onclick="mul()" id="multiplo">*</button>
        <button onclick="eq()" id="equals">=</button>
    </div>

    <div class = "box">
        <h3>Operaciones en formato CSV</h3>
        <button onclick="sumatorio()" id="sumatorio">∑x</button>
        <button onclick="ordenar()" id="ordenar">ordenar</button>
        <button onclick="revertir()" id="revertir">revertir</button>
        <button onclick="quitar()" id="revertir">quitar</button>
    </div>




    <script type = "text/javascript">
        var NumeroInicial = 0;
        var Numerofinal = 0;
        var addTrue = false;
        var mulTrue = false;

        function add(){
            NumeroInicial = parseFloat(document.getElementById("number").value);
            addTrue = true;
            //alert("Value of 'addTrue' outside the function " + addTrue)
        }

        function mul(){
            NumeroInicial = parseFloat(document.getElementById("number").value);
            mulTrue = true;
        }
    
        function eq(){
            
            if (addTrue){
                Numerofinal = parseFloat(document.getElementById("number").value);
                var result = Numerofinal + NumeroInicial;
                document.getElementById("answer").innerHTML = result;
                addTrue = false;
            } else if (mulTrue){
                Numerofinal = parseFloat(document.getElementById("number").value);
                var result = NumeroInicial * Numerofinal;
                document.getElementById("answer").innerHTML = result;
                mulTrue = false; 
            }
            Numerofinal = parseFloat(document.getElementById("answer").value);
            
        }    
    

        function sumatorio(){
            var sumatorioValue = 0;
            
            var inputValue = document.getElementById("number").value;
            
            var ArrayInput = inputValue.split(",");

            ArrayInput = Array.from(ArrayInput);

            ArrayInput = ArrayInput.map(function (x){
                return parseFloat(x,10);
            })


            sumatorioValue = ArrayInput.reduce((a,b) => a+b,0);
            document.getElementById("answer").innerHTML = sumatorioValue;
        }


        function ordenar(){
            var inputValue = document.getElementById("number").value;
            
            var ArrayInput = inputValue.split(",");

            ArrayInput = Array.from(ArrayInput);

            ArrayInput = ArrayInput.map(function (x){
                return parseFloat(x,10);
            })

            var result = ArrayInput.sort((a,b) => a-b);
            document.getElementById("answer").innerHTML = result;
        }


        function revertir(){
            var inputValue = document.getElementById("number").value;
            
            var ArrayInput = inputValue.split(",");

            ArrayInput = Array.from(ArrayInput);

            ArrayInput = ArrayInput.map(function (x){
                return parseFloat(x,10);
            })

            var result = ArrayInput.reverse();
            document.getElementById("answer").innerHTML = result;
        


        }


        function quitar(){

            var inputValue = document.getElementById("number").value;
            
            var ArrayInput = inputValue.split(",");

            ArrayInput = Array.from(ArrayInput);

            ArrayInput = ArrayInput.map(function (x){
                return parseFloat(x,10);
            })

            ArrayInput.pop();
            document.getElementById("answer").innerHTML = ArrayInput;
        }


        function square(){
            var num = parseFloat(document.getElementById("number").value);
            var result=num*num;
            document.getElementById("answer").innerHTML = result;
        }
    

    
        function mod(){
            var num = parseFloat(document.getElementById("number").value);
            if(num >= 0){
                var result = num;
                document.getElementById("answer").innerHTML= result;
            }else{
                var result = num * -1;
                document.getElementById("answer").innerHTML = result;
            }
        }


    
        function factorial(){
            var total = 1;
            var num = parseFloat(document.getElementById("number").value)
            for (i = 1; i <= num; i++){
                total = total * i
            }
            document.getElementById("answer").innerHTML = total;
        }
    </script>

</body>